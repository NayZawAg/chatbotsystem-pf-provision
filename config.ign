{"ignition":{"config":{},"security":{"tls":{}},"timeouts":{},"version":"2.2.0"},"networkd":{},"passwd":{"users":[{"groups":["sudo","docker"],"name":"core","passwordHash":"$1$wLqhpCin$ZUoAmhr0v8gO52u/Hbkyy0","shell":"/bin/bash"}]},"storage":{"files":[{"filesystem":"root","path":"/etc/sysctl.d/swap.conf","contents":{"source":"data:,vm.swappiness%3D10%0Avm.vfs_cache_pressure%3D50%0A","verification":{}},"mode":420},{"filesystem":"root","path":"/etc/nsswitch.conf","contents":{"source":"data:,%23%20%2Fetc%2Fnsswitch.conf%3A%0A%0Apasswd%3A%20%20%20%20%20%20files%20usrfiles%0Ashadow%3A%20%20%20%20%20%20files%20usrfiles%0Agroup%3A%20%20%20%20%20%20%20files%20usrfiles%0A%0Ahosts%3A%20%20%20%20%20%20%20files%20usrfiles%20resolve%20dns%0Anetworks%3A%20%20%20%20files%20usrfiles%20dns%0A%0Aservices%3A%20%20%20%20files%20usrfiles%0Aprotocols%3A%20%20%20files%20usrfiles%0Arpc%3A%20%20%20%20%20%20%20%20%20files%20usrfiles%0A%0Aethers%3A%20%20%20%20%20%20files%0Anetmasks%3A%20%20%20%20files%0Anetgroup%3A%20%20%20%20files%0Abootparams%3A%20%20files%0Aautomount%3A%20%20%20files%0Aaliases%3A%20%20%20%20%20files%0A","verification":{}},"mode":420},{"filesystem":"root","path":"/etc/resolv.conf","contents":{"source":"data:,nameserver%208.8.8.8%0A","verification":{}},"mode":420}]},"systemd":{"units":[{"enabled":true,"name":"etcd2.service"},{"enabled":true,"name":"fleet.service"},{"contents":"[Unit]\nDescription=Set Time Zone\n\n[Service]\nExecStart=/usr/bin/timedatectl set-timezone Asia/Tokyo\nRemainAfterExit=yes\nType=oneshot\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"settimezone.service"},{"contents":"[Unit]\nDescription=Create opt Directory\nConditionPathExists=!/opt\n\n[Service]\nType=oneshot\nExecStart=mkdir -p /opt/bin\nExecStart=mkdir -p /opt/lib/redis\n","name":"create-opt.service"},{"contents":"[Unit]\nDescription=Create swap file\nRequiresMountsFor=/opt\nConditionPathExists=!/opt/swap\nRequires=create-opt.service\nAfter=create-opt.service\n\n[Service]\nType=oneshot\nExecStart=/usr/bin/fallocate -l 4096m /opt/swap\nExecStart=/usr/bin/chmod 600 /opt/swap\nExecStart=/usr/sbin/mkswap /opt/swap\n","name":"create-swap.service"},{"contents":"[Unit]\nDescription=Turn on swap\nRequires=create-swap.service\nAfter=create-swap.service\n\n[Swap]\nWhat=/opt/swap\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"opt-swap.swap"},{"contents":"[Unit]\nDescription=Install docker-compose\nConditionPathExists=!/opt/bin/docker-compose\n\n[Service]\nType=oneshot\nExecStart=/usr/bin/curl -o /opt/bin/docker-compose -sL \"https://github.com/docker/compose/releases/download/1.25.3/docker-compose-linux-x86_64\"\nExecStart=/usr/bin/chmod +x /opt/bin/docker-compose\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"docker-compose.service"}]}}